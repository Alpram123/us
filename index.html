<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Our Timeline | Pram & Caca</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <style>
      @keyframes subtleFloat {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-8px);
        }
      }
      .floating {
        animation: subtleFloat 6s ease-in-out infinite;
      }
      .polaroid {
        background: white;
        padding: 0.5rem 0.5rem 2rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transform: rotate(-1deg);
        transition: all 0.3s ease;
      }
      .polaroid:hover {
        transform: rotate(1deg) scale(1.03);
      }
      .video-thumbnail {
        position: relative;
      }
      .video-thumbnail::after {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 2rem;
        opacity: 0.8;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }
      .memory-card {
        transition: all 0.3s ease;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.9) 0%,
          rgba(250, 250, 250, 0.95) 100%
        );
      }
      .memory-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
      }
      .timeline-marker {
        position: relative;
      }
      .timeline-marker::before {
        content: "";
        position: absolute;
        left: -15px;
        top: 50%;
        transform: translateY(-50%);
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #610bf5;
      }
      .timeline-nav-btn.active {
        background-color: #3800b0 !important;
        color: white !important;
        border-color: #3e13ce !important;
      }
      .language-switcher {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        display: flex;
        gap: 0;
      }

      .lang-btn {
        padding: 5px 12px;
        border: 1px solid #e5e7eb;
        background-color: #f3f4f6;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 14px;
        font-weight: 500;
      }

      .lang-btn:first-child {
        border-radius: 5px 0 0 5px;
      }

      .lang-btn:last-child {
        border-radius: 0 5px 5px 0;
      }

      .lang-btn:hover {
        background-color: #ffffff;
      }

      .lang-btn.active {
        background-color: #3e13ce;
        color: white;
        border-color: #3e13ce;
      }

      [data-translate] {
        transition: opacity 0.3s ease;
      }

      /* Dark mode styles */
      .dark {
        background: #1a202c;
        color: #e2e8f0;
      }
      .dark .timeline-nav-btn.active {
        background-color: #3c0ab1 !important;
        border-color: #3c0ab1 !important;
      }
      .dark .lang-btn {
        background-color: #2d3748 !important;
        border-color: #4a5568 !important;
        color: #e2e8f0 !important;
      }

      .dark .lang-btn.active {
        background-color: #3e13ce !important;
        color: white !important;
        border-color: #3e13ce !important;
      }

      .dark .lang-btn:hover {
        background-color: #ffffff !important;
      }

      .dark .memory-card {
        background: linear-gradient(
          135deg,
          rgba(45, 55, 72, 0.9) 0%,
          rgba(26, 32, 44, 0.95) 100%
        );
        color: #e2e8f0;
      }

      .dark .polaroid {
        background: #2d3748;
        color: #e2e8f0;
      }

      .dark .text-gray-600 {
        color: #a0aec0;
      }

      .dark .bg-white {
        background-color: #2d3748;
        color: #e2e8f0;
        border-color: #4a5568;
      }

      .dark .bg-gray-100 {
        background-color: #2d3748;
      }

      .dark .bg-gradient-to-br {
        background: linear-gradient(to bottom right, #1a202c, #2d3748);
      }

      .dark .hide-scrollbar {
        background: linear-gradient(
          to bottom,
          #1a202c,
          rgba(26, 32, 44, 0.9),
          transparent
        );
      }

      .theme-toggle {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1000;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .dark .theme-toggle {
        background: rgba(45, 55, 72, 0.8);
      }

      .theme-toggle:hover {
        transform: scale(1.1);
      }
    </style>
  </head>
  <body
    class="font-['Inter'] bg-gradient-to-br from-gray-50 to-gray-100 text-gray-800 min-h-screen"
  >
    <!-- Theme Toggle Button -->
    <div class="theme-toggle" id="themeToggle">
      <svg
        id="sunIcon"
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 text-amber-500"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
        />
      </svg>
      <svg
        id="moonIcon"
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 text-blue-400 hidden"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
        />
      </svg>
    </div>

    <div class="max-w-6xl mx-auto px-4 py-12">
      <!-- Header -->
      <header class="text-center mb-16">
        <div class="language-switcher">
          <button
            id="lang-en"
            class="lang-btn bg-gray-100 px-3 py-1 rounded-l-md border border-gray-300"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="14"
              viewBox="0 0 60 30"
            >
              <clipPath id="s">
                <path d="M0,0 v30 h60 v-30 z" />
              </clipPath>
              <clipPath id="t">
                <path d="M30,15 h30 v15 z v-30 h-30 z h-30 v30 z v-15 h30 z" />
              </clipPath>
              <g clip-path="url(#s)">
                <path d="M0,0 v30 h60 v-30 z" fill="#012169" />
                <path
                  d="M0,0 L60,30 M60,0 L0,30"
                  stroke="#fff"
                  stroke-width="6"
                />
                <path
                  d="M0,0 L60,30 M60,0 L0,30"
                  stroke="#C8102E"
                  stroke-width="4"
                  clip-path="url(#t)"
                />
                <path d="M30,0 v30 M0,15 h60" stroke="#fff" stroke-width="10" />
                <path
                  d="M30,0 v30 M0,15 h60"
                  stroke="#C8102E"
                  stroke-width="6"
                />
              </g>
            </svg>
          </button>
          <button
            id="lang-id"
            class="lang-btn bg-amber-100 px-3 py-1 rounded-r-md border border-gray-300"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="14"
              viewBox="0 0 3 2"
            >
              <rect width="3" height="1" y="0" fill="#ff0000" />
              <rect width="3" height="1" y="1" fill="#ffffff" />
            </svg>
          </button>
        </div>

        <div class="floating inline-block mb-6 relative">
          <div
            class="absolute -inset-2 rounded-full bg-gradient-to-r from-amber-200 to-rose-200 blur-sm opacity-75"
          ></div>
          <img
            src="css/kita.jpg"
            class="w-24 h-24 rounded-full object-cover relative z-10 border-4 border-white shadow-lg"
          />
        </div>
        <h1
          class="text-4xl md:text-5xl font-bold mb-3 font-['Playfair_Display'] bg-clip-text text-transparent bg-gradient-to-r from-amber-500 to-rose-500"
          data-translate="welcome"
        >
          Our Shared Journey
        </h1>
        <p
          class="text-lg text-gray-600 max-w-2xl mx-auto"
          data-translate="description"
        >
          Every moment with you becomes a treasured memory
        </p>
      </header>

      <!-- Timeline Navigation -->
      <div
        class="flex overflow-x-auto pb-6 mb-10 hide-scrollbar sticky top-0 bg-gradient-to-b from-gray-50 via-gray-50/90 to-transparent z-10 pt-4"
      >
        <div class="flex space-x-3 mx-auto px-4">
          <button
            onclick="openSection('CIANJUR', event)"
            class="timeline-nav-btn px-5 py-2 rounded-full bg-white shadow-sm text-sm font-medium whitespace-nowrap hover:bg-white hover:text-blue-600 transition-all border border-gray-200"
          >
            Nikahan
          </button>
          <button
            onclick="openSection('PANGALENGAN', event)"
            class="timeline-nav-btn px-5 py-2 rounded-full bg-white shadow-sm text-sm font-medium whitespace-nowrap hover:bg-white hover:text-blue-600 transition-all border border-gray-200"
          >
            Main
          </button>
          <button
            onclick="openSection('CAMPING', event)"
            class="timeline-nav-btn px-5 py-2 rounded-full bg-white shadow-sm text-sm font-medium whitespace-nowrap hover:bg-white hover:text-blue-600 transition-all border border-gray-200"
          >
            Camping
          </button>
          <button
            onclick="openSection('OLAHRAGA', event)"
            class="timeline-nav-btn px-5 py-2 rounded-full bg-white shadow-sm text-sm font-medium whitespace-nowrap hover:bg-white hover:text-blue-600 transition-all border border-gray-200"
          >
            Olahraga
          </button>
          <button
            onclick="openSection('NONGKRONG', event)"
            class="timeline-nav-btn px-5 py-2 rounded-full bg-white shadow-sm text-sm font-medium whitespace-nowrap hover:bg-white hover:text-blue-600 transition-all border border-gray-200"
          >
            Nongkrong
          </button>
          <button
            onclick="openSection('WISUDA', event)"
            class="timeline-nav-btn px-5 py-2 rounded-full bg-white shadow-sm text-sm font-medium whitespace-nowrap hover:bg-white hover:text-blue-600 transition-all border border-gray-200"
          >
            Wisuda
          </button>
          <button
            onclick="openSection('BONUS', event)"
            class="timeline-nav-btn px-5 py-2 rounded-full bg-white shadow-sm text-sm font-medium whitespace-nowrap hover:bg-white hover:text-blue-600 transition-all border border-gray-200"
          >
            Moments
          </button>
        </div>
      </div>

      <!-- Memory Sections -->
      <main class="space-y-16">
        <!-- CIANJUR Section -->
        <section id="CIANJUR" class="memory-section">
          <div class="memory-card rounded-xl shadow-md overflow-hidden">
            <div class="p-6 pb-2">
              <h2
                class="text-2xl font-semibold mb-2 font-['Playfair_Display']"
                data-translate="wedding"
              >
                Wedding Celebration
              </h2>
              <p
                class="text-gray-600 mb-6 timeline-marker"
                data-translate="wedding_desc"
              >
                INI KITA LAGI DI ACARA NIKAHAN KAKAK NYAA HIKAM GUYSSS
              </p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4 p-4">
              <div class="polaroid">
                <img src="css/cianjur1.jpg" class="w-full h-48 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img src="css/cianjur2.jpg" class="w-full h-48 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img src="css/cianjur3.jpg" class="w-full h-48 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
            </div>
          </div>
        </section>

        <!-- PANGALENGAN Section -->
        <section id="PANGALENGAN" class="memory-section hidden">
          <div class="memory-card rounded-xl shadow-md overflow-hidden">
            <div class="p-6 pb-2">
              <h2
                class="text-2xl font-semibold mb-2 font-['Playfair_Display']"
                data-translate="getaway"
              >
                Mountain Getaway
              </h2>
              <p
                class="text-gray-600 mb-6 timeline-marker"
                data-translate="getaway_desc"
              >
                INI KITA LAGI MAIN DI PANGALENGAN NAMA TEMPAT NYAA SITU CILEUNCA
              </p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4 p-4">
              <div class="polaroid">
                <img
                  src="css/pangalengan1.jpg"
                  class="w-full h-48 object-cover"
                />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img
                  src="css/pangalengan2.jpg"
                  class="w-full h-48 object-cover"
                />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img
                  src="css/pangalengan3.jpg"
                  class="w-full h-48 object-cover"
                />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img src="css/bliar2.jpg" class="w-full h-48 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
            </div>
          </div>
        </section>

        <!-- CAMPING Section -->
        <section id="CAMPING" class="memory-section hidden">
          <div class="memory-card rounded-xl shadow-md overflow-hidden">
            <div class="p-6 pb-2">
              <h2
                class="text-2xl font-semibold mb-2 font-['Playfair_Display']"
                data-translate="camping"
              >
                Nature Adventure
              </h2>
              <p
                class="text-gray-600 mb-6 timeline-marker"
                data-translate="camping_desc"
              >
                KITA LAGI CAMPING DI CIWIDEY NAMA TEMPAT NYAA LUPA
              </p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-2 gap-4 p-4">
              <div class="polaroid video-thumbnail">
                <video
                  src="css/camping1.mp4"
                  controls
                  class="w-full h-64 object-cover"
                ></video>
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid video-thumbnail">
                <video
                  src="css/camping2.mp4"
                  controls
                  class="w-full h-64 object-cover"
                ></video>
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
            </div>
          </div>
        </section>

        <!-- OLAHRAGA Section -->
        <section id="OLAHRAGA" class="memory-section hidden">
          <div class="memory-card rounded-xl shadow-md overflow-hidden">
            <div class="p-6 pb-2">
              <h2
                class="text-2xl font-semibold mb-2 font-['Playfair_Display']"
                data-translate="fitness"
              >
                Fitness Journey
              </h2>
              <p
                class="text-gray-600 mb-6 timeline-marker"
                data-translate="fitness_desc"
              >
                OLAHRAGA DULUU BIAR SEHATT, MAU JADI BINARAGAWAN HAHAHAHAH
              </p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 p-4">
              <div class="polaroid">
                <img src="css/olahraga1.jpg" class="w-full h-48 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img src="css/olahraga2.jpg" class="w-full h-48 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img src="css/olahraga3.jpg" class="w-full h-48 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid video-thumbnail">
                <video
                  src="css/olahraga4.mp4"
                  controls
                  class="w-full h-48 object-cover"
                ></video>
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
            </div>
          </div>
        </section>

        <!-- NONGKRONG Section -->
        <section id="NONGKRONG" class="memory-section hidden">
          <div class="memory-card rounded-xl shadow-md overflow-hidden">
            <div class="p-6 pb-2">
              <h2
                class="text-2xl font-semibold mb-2 font-['Playfair_Display']"
                data-translate="hangouts"
              >
                Casual Hangouts
              </h2>
              <p
                class="text-gray-600 mb-6 timeline-marker"
                data-translate="hangouts_desc"
              >
                INI PAS PUASA SAMA ABIS MARHABAAN GUYSS DARI DULU KITA EMANG
                COCOK KANN GUYSS HAHAHAHAH
              </p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 p-4">
              <div class="polaroid">
                <img
                  src="css/nongkrong(poto).jpg"
                  class="w-full h-48 object-cover"
                />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid video-thumbnail">
                <video
                  src="css/nongkrong1.mp4"
                  controls
                  class="w-full h-48 object-cover"
                ></video>
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
            </div>
          </div>
        </section>

        <!-- WISUDA Section -->
        <section id="WISUDA" class="memory-section hidden">
          <div class="memory-card rounded-xl shadow-md overflow-hidden">
            <div class="p-6 pb-2">
              <h2
                class="text-2xl font-semibold mb-2 font-['Playfair_Display']"
                data-translate="graduation"
              >
                Academic Milestone
              </h2>
              <p
                class="text-gray-600 mb-6 timeline-marker"
                data-translate="graduation_desc"
              >
                INI CACA WISUDA, NANTI PRAM 2026 WISUDA NYAA
              </p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4 p-4">
              <div class="polaroid">
                <img src="css/wisuda1.jpg" class="w-full h-64 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img src="css/wisuda2.jpg" class="w-full h-64 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img src="css/wisuda3.jpg" class="w-full h-64 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
            </div>
          </div>
        </section>

        <!-- BONUS Section -->
        <section id="BONUS" class="memory-section hidden">
          <div class="memory-card rounded-xl shadow-md overflow-hidden">
            <div class="p-6 pb-2">
              <h2
                class="text-2xl font-semibold mb-2 font-['Playfair_Display']"
                data-translate="moments"
              >
                Everyday Moments
              </h2>
              <p
                class="text-gray-600 mb-6 timeline-marker"
                data-translate="moments_desc"
              >
                INI PHOTO" KITA LAGI GABUTT AJAA GUYS WKWKWKWK
              </p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 p-4">
              <div class="polaroid">
                <img src="css/dll1.jpg" class="w-full h-48 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img src="css/dll2.jpg" class="w-full h-48 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img src="css/dll3.jpg" class="w-full h-48 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
              <div class="polaroid">
                <img src="css/dll4.jpg" class="w-full h-48 object-cover" />
                <div class="text-center mt-2 text-sm text-gray-600">2024</div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <!-- Featured Video -->
      <div
        class="mt-8 max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden"
      >
        <div class="p-4">
          <h2
            class="text-xl font-semibold mb-3 font-['Playfair_Display'] text-center"
            data-translate="featured"
          >
            Featured Memory
          </h2>
          <div class="rounded-lg overflow-hidden">
            <video
              src="css/tiktokan.mp4"
              controls
              class="w-full h-auto max-h-64 object-contain mx-auto"
            ></video>
          </div>
        </div>
      </div>

      <section id="UPLOAD" class="memory-section hidden">
        <div class="memory-card rounded-xl shadow-md overflow-hidden">
          <div class="p-6 pb-2">
            <h2
              class="text-2xl font-semibold mb-2 font-['Playfair_Display']"
              data-translate="upload"
            >
              Tambah Kenangan Baru
            </h2>
            <div class="upload-container space-y-4">
              <!-- Form Upload -->
              <div class="bg-white p-4 rounded-lg shadow">
                <div class="mb-4">
                  <label class="block text-gray-700 mb-2">Pilih Kategori</label>
                  <select id="memoryCategory" class="w-full p-2 border rounded">
                    <option value="CIANJUR">Nikahan</option>
                    <option value="PANGALENGAN">Main</option>
                    <option value="CAMPING">Camping</option>
                    <option value="OLAHRAGA">Olahraga</option>
                    <option value="NONGKRONG">Nongkrong</option>
                    <option value="WISUDA">Wisuda</option>
                    <option value="BONUS">Moments</option>
                  </select>
                </div>

                <div class="mb-4">
                  <label class="block text-gray-700 mb-2"
                    >Pilih File (Foto/Video)</label
                  >
                  <input
                    type="file"
                    id="memoryFile"
                    accept="image/*,video/*"
                    class="w-full p-2 border rounded"
                    multiple
                  />
                </div>

                <div class="mb-4">
                  <label class="block text-gray-700 mb-2">Tahun</label>
                  <input
                    type="text"
                    id="memoryYear"
                    value="2024"
                    class="w-full p-2 border rounded"
                  />
                </div>

                <button
                  onclick="uploadMemory()"
                  class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded"
                >
                  Upload Kenangan
                </button>
              </div>

              <!-- Daftar File Terupload -->
              <div class="bg-white p-4 rounded-lg shadow">
                <h3 class="text-lg font-semibold mb-3">Kenangan Terupload</h3>
                <div
                  id="uploadedMemories"
                  class="grid grid-cols-1 md:grid-cols-2 gap-4"
                >
                  <!-- Item akan ditambahkan secara dinamis -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="mt-16 text-center text-gray-500 text-sm pb-8">
        <p>Created with ❤️ | Pram & Caca &COPY; 2025</p>
      </footer>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Inisialisasi bahasa
        const savedLang = localStorage.getItem("preferredLang") || "id";
        setLanguage(savedLang);

        // Event listener bahasa
        document
          .getElementById("lang-en")
          .addEventListener("click", () => setLanguage("en"));
        document
          .getElementById("lang-id")
          .addEventListener("click", () => setLanguage("id"));

        openSection("CIANJUR");

        const savedTheme = localStorage.getItem("theme") || "light";
        setTheme(savedTheme);

        // Theme toggle event
        document
          .getElementById("themeToggle")
          .addEventListener("click", toggleTheme);
      });

      // Fungsi untuk membuka section
      function openSection(sectionId, event = null) {
        document.querySelectorAll(".memory-section").forEach((section) => {
          section.classList.add("hidden");
        });

        document.getElementById(sectionId).classList.remove("hidden");

        const navButtons = document.querySelectorAll(".timeline-nav-btn");
        navButtons.forEach((btn) => {
          btn.classList.remove("active");
        });

        if (event) {
          event.currentTarget.classList.add("active");
        } else {
          navButtons[0]?.classList.add("active");
        }

        document.getElementById(sectionId).scrollIntoView({
          behavior: "smooth",
          block: "start",
        });
      }

      function scrollToTop() {
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      const translations = {
        en: {
          welcome: "Our Journey Together",
          description: "Moments that became memories, captured in time",
          wedding: "Wedding Celebration",
          wedding_desc: "US AT HIKAM'S SIBLING WEDDING",
          getaway: "Mountain Getaway",
          getaway_desc: "US AT PANGALENGAN, SITU CILEUNCA",
          camping: "Nature Adventure",
          camping_desc: "WE WENT CAMPING IN CIWIDEY",
          fitness: "Fitness Journey",
          fitness_desc: "WORKING OUT TO STAY HEALTHY, WANNA BE BODYBUILDER LOL",
          hangouts: "Casual Hangouts",
          hangouts_desc:
            "DURING RAMADAN AND AFTER MARHABAN, WE'VE ALWAYS BEEN COMPATIBLE RIGHT GUYS HAHAHA",
          graduation: "Academic Milestone",
          graduation_desc:
            "THIS IS CACA'S GRADUATION, PRAM WILL GRADUATE IN 2026",
          moments: "Everyday Moments",
          moments_desc: "JUST RANDOM PHOTOS OF US BEING SILLY LOL",
          featured: "Featured Memory",
        },
        id: {
          welcome: "Perjalanan Kami",
          description: "Momen yang menjadi kenangan, abadi dalam waktu",
          wedding: "Perayaan Pernikahan",
          wedding_desc: "KITA DI ACARA NIKAHAN KAKAKNYA HIKAM",
          getaway: "Liburan ke Gunung",
          getaway_desc:
            "KITA LAGI MAIN DI PANGALENGAN NAMA TEMPAT NYAA SITU CILEUNCA",
          camping: "Petualangan Alam",
          camping_desc: "KITA LAGI CAMPING DI CIWIDEY NAMA TEMPAT NYAA LUPA",
          fitness: "Perjalanan Fitness",
          fitness_desc:
            "OLAHRAGA DULUU BIAR SEHATT, MAU JADI BINARAGAWAN HAHAHAHAH",
          hangouts: "Nongkrong Santai",
          hangouts_desc:
            "INI PAS PUASA SAMA ABIS MARHABAAN GUYSS DARI DULU KITA EMANG COCOK KANN GUYSS HAHAHAHAH",
          graduation: "Pencapaian Akademik",
          graduation_desc: "INI CACA WISUDA, NANTI PRAM 2026 WISUDA NYAA",
          moments: "Momen sehari-hari",
          moments_desc: 'INI PHOTO" KITA LAGI GABUTT AJAA GUYS WKWKWKWK',
          featured: "Memori Unggulan",
        },
      };

      // Fungsi ganti bahasa
      function setLanguage(lang) {
        localStorage.setItem("preferredLang", lang);
        document.documentElement.lang = lang;

        document.querySelectorAll(".lang-btn").forEach((btn) => {
          btn.classList.remove("active");
        });
        document.getElementById(`lang-${lang}`).classList.add("active");

        const elements = document.querySelectorAll("[data-translate]");
        elements.forEach((el) => {
          el.classList.add("opacity-50");
        });

        setTimeout(() => {
          elements.forEach((el) => {
            const key = el.getAttribute("data-translate");
            if (translations[lang][key]) {
              el.textContent = translations[lang][key];
            }
            el.classList.remove("opacity-50");
          });
        }, 150);
      }

      function setTheme(theme) {
        if (theme === "dark") {
          document.documentElement.classList.add("dark");
          document.getElementById("sunIcon").classList.add("hidden");
          document.getElementById("moonIcon").classList.remove("hidden");
        } else {
          document.documentElement.classList.remove("dark");
          document.getElementById("sunIcon").classList.remove("hidden");
          document.getElementById("moonIcon").classList.add("hidden");
        }
        localStorage.setItem("theme", theme);
      }

      function toggleTheme() {
        const currentTheme = localStorage.getItem("theme") || "light";
        const newTheme = currentTheme === "light" ? "dark" : "light";
        setTheme(newTheme);
      }
      // Tambahkan variabel global untuk menyimpan memori
      let memories = {};

      // Inisialisasi memori saat DOM loaded
      document.addEventListener("DOMContentLoaded", function () {
        // [KODE INISIALISASI SEBELUMNYA]

        // Load memori dari localStorage
        loadMemories();

        // Tambahkan tombol upload ke navigasi
        const nav = document.querySelector(".hide-scrollbar .flex");
        const uploadBtn = document.createElement("button");
        uploadBtn.onclick = (e) => openSection("UPLOAD", e);
        uploadBtn.className =
          "timeline-nav-btn px-5 py-2 rounded-full bg-white shadow-sm text-sm font-medium whitespace-nowrap hover:bg-white hover:text-blue-600 transition-all border border-gray-200";
        uploadBtn.textContent = "Upload";
        nav.appendChild(uploadBtn);
      });

      // Fungsi untuk load memori
      function loadMemories() {
        try {
          const savedMemories = localStorage.getItem("timelineMemories");
          memories = savedMemories
            ? JSON.parse(savedMemories)
            : {
                CIANJUR: [],
                PANGALENGAN: [],
                CAMPING: [],
                OLAHRAGA: [],
                NONGKRONG: [],
                WISUDA: [],
                BONUS: [],
              };

          // Pastikan semua kategori ada
          [
            "CIANJUR",
            "PANGALENGAN",
            "CAMPING",
            "OLAHRAGA",
            "NONGKRONG",
            "WISUDA",
            "BONUS",
          ].forEach((cat) => {
            memories[cat] = memories[cat] || [];
          });

          renderUploadedMemories();
        } catch (e) {
          console.error("Error loading memories:", e);
          memories = {
            CIANJUR: [],
            PANGALENGAN: [],
            CAMPING: [],
            OLAHRAGA: [],
            NONGKRONG: [],
            WISUDA: [],
            BONUS: [],
          };
        }
      }

      // Fungsi untuk upload memori
      function uploadMemory() {
        // Pertama load data yang ada
        const existingMemories = JSON.parse(
          localStorage.getItem("timelineMemories")
        ) || {
          CIANJUR: [],
          PANGALENGAN: [],
          CAMPING: [],
          OLAHRAGA: [],
          NONGKRONG: [],
          WISUDA: [],
          BONUS: [],
        };

        const category = document.getElementById("memoryCategory").value;
        const year = document.getElementById("memoryYear").value;
        const files = document.getElementById("memoryFile").files;

        // Batasi jumlah file yang bisa diupload sekaligus
        if (files.length > 5) {
          alert("Maksimal 5 file sekaligus!");
          return;
        }

        // Proses setiap file
        Array.from(files).forEach((file) => {
          if (file.size > 2 * 1024 * 1024) {
            // Batas 2MB per file
            alert(`File ${file.name} terlalu besar (maks 2MB)`);
            return;
          }

          const reader = new FileReader();

          reader.onload = function (e) {
            const memoryItem = {
              id: Date.now() + "-" + Math.random().toString(36).substr(2, 9),
              type: file.type.startsWith("image") ? "image" : "video",
              src: e.target.result,
              year: year,
              category: category,
              name: file.name,
              size: file.size,
              lastModified: file.lastModified,
            };

            // Tambahkan ke memori yang sudah ada (tidak overwrite)
            existingMemories[category].push(memoryItem);

            // Simpan dengan error handling
            try {
              localStorage.setItem(
                "timelineMemories",
                JSON.stringify(existingMemories)
              );
              renderUploadedMemories();
              renderMemorySection(category);
            } catch (e) {
              if (e.name === "QuotaExceededError") {
                alert("Penyimpanan penuh! Hapus beberapa kenangan lama.");
              }
            }
          };

          if (file.type.startsWith("image")) {
            reader.readAsDataURL(file);
          } else {
            // Untuk video langsung gunakan object URL
            const memoryItem = {
              id: Date.now() + "-" + Math.random().toString(36).substr(2, 9),
              type: "video",
              src: URL.createObjectURL(file),
              year: year,
              category: category,
              name: file.name,
              size: file.size,
              lastModified: file.lastModified,
            };

            existingMemories[category].push(memoryItem);
            localStorage.setItem(
              "timelineMemories",
              JSON.stringify(existingMemories)
            );
          }
        });

        document.getElementById("memoryFile").value = "";
      }

      // Fungsi untuk render daftar memori terupload
      function renderUploadedMemories() {
        const container = document.getElementById("uploadedMemories");
        container.innerHTML = "";

        Object.keys(memories).forEach((category) => {
          memories[category].forEach((memory) => {
            const item = document.createElement("div");
            item.className = "border rounded-lg p-3 flex flex-col";

            const preview = document.createElement(
              memory.type === "image" ? "img" : "video"
            );
            preview.src = memory.src;
            preview.className = "w-full h-32 object-cover rounded";
            if (memory.type === "video") {
              preview.controls = true;
            }

            const info = document.createElement("div");
            info.className = "mt-2 text-sm";
            info.innerHTML = `
              <p><strong>Kategori:</strong> ${getCategoryName(
                memory.category
              )}</p>
              <p><strong>Tahun:</strong> ${memory.year}</p>
            `;

            const deleteBtn = document.createElement("button");
            deleteBtn.className =
              "mt-2 bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded text-sm";
            deleteBtn.textContent = "Hapus";
            deleteBtn.onclick = () => deleteMemory(memory.id, memory.category);

            item.appendChild(preview);
            item.appendChild(info);
            item.appendChild(deleteBtn);

            container.appendChild(item);
          });
        });
      }

      // Fungsi untuk hapus memori
      function deleteMemory(id, category) {
        memories[category] = memories[category].filter((m) => m.id !== id);
        localStorage.setItem("timelineMemories", JSON.stringify(memories));
        renderUploadedMemories();
        renderMemorySection(category);
      }

      // Fungsi untuk render ulang section memori
      function renderMemorySection(category) {
        const section = document.getElementById(category);
        if (!section) return;

        const grid = section.querySelector(".grid");
        if (!grid) return;

        // Hapus semua item yang ada
        grid.innerHTML = "";

        // Tambahkan memori dari localStorage
        memories[category].forEach((memory) => {
          const polaroid = document.createElement("div");
          polaroid.className = "polaroid";

          if (memory.type === "image") {
            const img = document.createElement("img");
            img.src = memory.src;
            img.className = "w-full h-48 object-cover";
            polaroid.appendChild(img);
          } else {
            const video = document.createElement("video");
            video.src = memory.src;
            video.controls = true;
            video.className = "w-full h-48 object-cover video-thumbnail";
            polaroid.appendChild(video);
          }

          const yearDiv = document.createElement("div");
          yearDiv.className = "text-center mt-2 text-sm text-gray-600";
          yearDiv.textContent = memory.year;
          polaroid.appendChild(yearDiv);

          grid.appendChild(polaroid);
        });
      }

      // Helper function untuk nama kategori
      function getCategoryName(category) {
        const names = {
          CIANJUR: "Nikahan",
          PANGALENGAN: "Main",
          CAMPING: "Camping",
          OLAHRAGA: "Olahraga",
          NONGKRONG: "Nongkrong",
          WISUDA: "Wisuda",
          BONUS: "Moments",
        };
        return names[category] || category;
      }

      // Tambahkan terjemahan untuk upload
      translations.en.upload = "Add New Memory";
      translations.id.upload = "Tambah Kenangan Baru";

      // Backup data ke file
      function backupMemories() {
        const data = JSON.stringify(memories);
        const blob = new Blob([data], { type: "application/json" });
        const url = URL.createObjectURL(blob);

        const a = document.createElement("a");
        a.href = url;
        a.download = `timeline-backup-${new Date().toISOString()}.json`;
        a.click();
      }

      // Restore dari file
      function restoreMemories(file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          try {
            const backupData = JSON.parse(e.target.result);
            localStorage.setItem(
              "timelineMemories",
              JSON.stringify(backupData)
            );
            loadMemories();
            alert("Backup berhasil di-restore!");
          } catch (e) {
            alert("File backup tidak valid!");
          }
        };
        reader.readAsText(file);
      }
    </script>
  </body>
</html>
